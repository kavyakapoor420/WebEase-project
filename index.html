<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>intro</title>
  <style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    background: linear-gradient(135deg, #dcd6f7 0%, #c6defc 100%);
    color: #555;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  #main-container {
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(150, 150, 180, 0.2);
    width: 90%;
    max-width: 900px;
    padding: 2rem 3rem;
    box-sizing: border-box;
    overflow-y: auto;
    max-height: 90vh;
  }
  h1 {
    text-align: center;
    color: #a89cc8;
    margin-bottom: 2rem;
  }
  section {
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 2.5rem;
    box-shadow: 0 2px 8px rgba(150, 150, 180, 0.1);
    background: #fafaff;
  }
  h2 {
    color: #a89cc8;
    border-bottom: 3px solid #a89cc8;
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
  }
  p {
    line-height: 1.7;
    font-size: 1.1rem;
  }
  ul {
    margin-left: 1.2rem;
    font-size: 1rem;
  }
  /* Chatbot styles with soft pastel theme */
  .chatbot-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
    transition: all 0.3s ease;
  }
  .chat-btn {
    background-color: #a89cc8;
    color: white;
    border: none;
    border-radius: 50%;
    padding: 18px;
    font-size: 26px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(168, 156, 200, 0.4);
    transition: background-color 0.3s;
  }
  .chat-btn:hover {
    background-color: #8c7fcf;
  }
  .chat-window {
    width: 400px;
    height: 550px;
    background: linear-gradient(to bottom right, #dcd6f7, #c6defc);
    color: #555;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(168, 156, 200, 0.3);
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease;
  }
  .chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background-color: #b3a9d9;
    font-size: 18px;
    color: #444;
  }
  .chat-header button {
    background: none;
    border: none;
    color: #777;
    font-size: 22px;
    cursor: pointer;
    transition: color 0.3s;
  }
  .chat-header button:hover {
    color: #444;
  }
  .chat-messages {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
    scroll-behavior: smooth;
  }
  .chat-message {
    max-width: 80%;
    padding: 12px 15px;
    border-radius: 14px;
    font-size: 15px;
    line-height: 1.5;
    word-wrap: break-word;
    transition: all 0.2s ease-in-out;
  }
  .user-message {
    background-color: #c6defc;
    align-self: flex-end;
    color: #333;
  }
  .bot-message {
    background-color: #e6e4f7;
    align-self: flex-start;
    color: #555;
  }
  .chat-input {
    display: flex;
    align-items: center;
    padding: 15px;
    border-top: 1px solid #a89cc8;
    background-color: #b3a9d9;
  }
  .chat-input input {
    flex: 1;
    padding: 12px 16px;
    font-size: 15px;
    border: none;
    border-radius: 10px;
    background-color: #dcd6f7;
    color: #555;
    outline: none;
    transition: box-shadow 0.3s;
  }
  .chat-input input:focus {
    box-shadow: 0 0 5px #a89cc8;
  }
  .chat-input button {
    margin-left: 12px;
    background-color: #8c7fcf;
    border: none;
    color: white;
    padding: 10px 14px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
  }
  .chat-input button:hover {
    background-color: #a89cc8;
  }
  #mic-btn {
    background-color: #8c7fcf;
  }
  #mic-btn:hover {
    background-color: #a89cc8;
  }
  .hidden {
    display: none;
  }
  #diagnose-questionnaire {
    background:#fafaff;
    border-radius:15px;
    padding:2rem;
    box-shadow: 0 2px 8px rgba(150, 150, 180, 0.1);
    margin-bottom:2.5rem;
  }
  #diagnose-questionnaire a {
    display:inline-block;
    background-color:#a89cc8;
    color:#fff;
    padding:12px 24px;
    border-radius:8px;
    text-decoration:none;
    font-weight:bold;
    transition:background-color 0.3s;
  }
  #diagnose-questionnaire a:hover {
    background-color:#8c7fcf;
  }
</style>
</head>
<body>
  <div id="main-container">
    <h1>BetterWeb Adaptation Made Easier!!</h1>

    <section id="betterweb">
      <h2>BetterWeb</h2>
      <p><strong>BetterWeb</strong> is a Chrome extension that enhances web accessibility for users with ADHD, dyslexia, epilepsy, autism, color blindness, and visual impairments. Create a personalized profile to adjust fonts, colors, and layouts to your needs. You can also talk to an AI chatbot to change the webpage in real time using natural language commands.</p>
      <p><em>Features include:</em></p>
      <ul>
        <li>Custom accessibility profiles</li>
        <li>Dyslexia-friendly fonts</li>
        <li>Dark mode toggle</li>
        <li>AI chatbot for real-time page adjustments</li>
        <li>Live preview on settings page</li>
      </ul>
    </section>

    <section id="edu-adapt">
      <h2>Edu Adapt</h2>
      <p><strong>EduAdapt: Accessibility Reader</strong> is a dyslexia and color-blindness friendly reader for all websites. It is designed to improve accessibility by adapting content presentation to the needs of users with dyslexia and color blindness.</p>
    </section>

    <section id="ai-assistant">
      <h2>AI Assistant</h2>
      <p>The AI Assistant is a Gemini Browser Agent that interacts with web browsers using advanced AI models. It supports both text and speech input, allowing users to query and control web pages using natural language. The assistant can summarize content, perform searches, and provide real-time assistance through an interactive session.</p>
    </section>

    <section id="qna-chatbot">
      <h2></h2>
      <div id="chatbot-container" class="chatbot-container">
        <!-- Chat Icon Button -->
        <button id="open-btn" class="chat-btn">ðŸ¤–</button>

        <!-- Chat Window -->
        <div id="chat-window" class="chat-window hidden">
          <div class="chat-header">
            <h2>BetterWeb ChatBot</h2>
            <button id="close-btn">âœ–</button>
          </div>

          <div id="chat-messages" class="chat-messages"></div>

          <div class="chat-input">
            <input type="text" id="user-input" placeholder="Ask me anything..." />
            <button id="mic-btn" title="Speak your message">ðŸŽ¤</button>
            <button id="send-btn">âž¤</button>
          </div>
        </div>
      </div>
    </section>

    <section id="diagnose-questionnaire">
      <h2>Diagnosis Questionnaire</h2>
      <p>This questionnaire helps users perform a preliminary self-assessment for various disabilities related to visual, cognitive, and sensory needs.</p>
      <p>For a formal diagnosis, please consult a healthcare professional.</p>
      <a href="diagnose.html" target="_blank">Open Diagnosis Questionnaire</a>
    </section>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    const API_KEY = "AIzaSyCsA7wL-Xusb21c8oS37CQ9FpwlSGtQf_k";

    const openBtn = document.getElementById("open-btn");
    const closeBtn = document.getElementById("close-btn");
    const chatWindow = document.getElementById("chat-window");
    const chatMessages = document.getElementById("chat-messages");
    const userInput = document.getElementById("user-input");
    const sendBtn = document.getElementById("send-btn");

    openBtn.onclick = () => {
      chatWindow.classList.remove("hidden");
      openBtn.classList.add("hidden");
    };

    closeBtn.onclick = () => {
      chatWindow.classList.add("hidden");
      openBtn.classList.remove("hidden");
    };

    sendBtn.onclick = async () => {
      const input = userInput.value.trim();
      if (!input) return;

      // Show user message
      const userMsgDiv = document.createElement("div");
      userMsgDiv.className = "chat-message user-message";
      userMsgDiv.textContent = input;
      chatMessages.appendChild(userMsgDiv);

      userInput.value = "";
      chatMessages.scrollTop = chatMessages.scrollHeight;

      // Show loading
      const loadingDiv = document.createElement("div");
      loadingDiv.className = "chat-message bot-message";
      loadingDiv.textContent = "Typing...";
      chatMessages.appendChild(loadingDiv);

      try {
        const enrichedQuery = `
You are BetterBot â€” a smart, friendly, and AI-powered assistant embedded in BetterWeb, a Chrome extension created to enhance digital accessibility and user well-being. While your main role is to assist users with personalizing their web experience (especially for users with ADHD, dyslexia, autism, and visual/sensory sensitivities), you're also capable of answering general knowledge questions â€” just like ChatGPT.

BetterBot is:
- Helpful and conversational
- Respectful and privacy-aware
- Designed to support users with kindness and clarity

You can respond to:
- Health or mental well-being questions like â€œWhat is ADHD?â€, â€œWhat causes dyslexia?â€, or â€œHow can I improve focus?â€
- General questions like â€œTell me about the Eiffel Towerâ€, â€œWho is the CEO of Tesla?â€, or â€œHow to stay motivated?â€
- Everyday inquiries like â€œRecommend a good bookâ€, â€œWhatâ€™s the capital of Spain?â€, or â€œHow to stay motivated?â€

ðŸ’¡ If a question relates to accessibility, focus, sensory overload, or mental health, feel free to share **helpful advice**, **resources**, or tips to improve user well-being â€” but avoid giving medical diagnoses or prescribing drugs. Instead, use language like:

> "I'm not a doctor, but I can tell you ADHD is a common neurodevelopmental condition. Many people manage it with professional guidance, structured routines, or focus aids. For medical advice or prescriptions, it's best to consult a healthcare provider."

ðŸ’¬ If the topic is totally unrelated (like asking about space, sports, or history), answer helpfully â€” you are a smart general assistant too.

âœ… Summary:
You are a general-purpose assistant thatâ€™s **extra mindful** of accessibility and mental wellness, and ready to support users with helpful responses, guidance, or even just a friendly chat.

Now, please respond to the user:

User Query: ${input}
`;

        const response = await axios.post(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`,
          {
            contents: [{ parts: [{ text: enrichedQuery }] }],
          },
          {
            headers: { "Content-Type": "application/json" },
          }
        );

        loadingDiv.remove();

        const botText =
          response.data?.candidates?.[0]?.content?.parts?.[0]?.text ||
          "Sorry, I couldn't understand.";

        const botMsgDiv = document.createElement("div");
        botMsgDiv.className = "chat-message bot-message";
        botMsgDiv.textContent = botText;
        chatMessages.appendChild(botMsgDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      } catch (error) {
        loadingDiv.remove();
        const errorMsgDiv = document.createElement("div");
        errorMsgDiv.className = "chat-message bot-message";
        errorMsgDiv.textContent =
          "Something went wrong. Please try again later.";
        chatMessages.appendChild(errorMsgDiv);
      }
    };

    const micBtn = document.getElementById("mic-btn");

    if ("webkitSpeechRecognition" in window || "SpeechRecognition" in window) {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      const recognition = new SpeechRecognition();
      recognition.continuous = false;
      recognition.lang = "en-US";

      recognition.onstart = () => {
        micBtn.textContent = "ðŸŽ™ï¸"; // recording
      };

      recognition.onend = () => {
        micBtn.textContent = "ðŸŽ¤"; // done recording
      };

      recognition.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        userInput.value = transcript;
      };

      micBtn.onclick = () => {
        recognition.start();
      };
    } else {
      micBtn.disabled = true;
      micBtn.title = "Speech recognition not supported";
    }
  </script>
</body>
</html>
